{% extends 'frontend/phone.html' %}
{% load static %}

{% block title %}검색{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/search.css' %}" />
{% endblock %}

{% block content %}
    <div class="search">
        <h1>검색 페이지</h1>
    </div>
    <div class="search-container">
        <form action="{% url 'popplace:search' %}" method="GET">
            {{ form.as_p }}
            <button type="submit">검색</button>
        </form>
    </div>

    {% if results %}
        <div class="search-results">
            <h2>검색 결과</h2>
            <ul>
                {% for popup in results %}
                    <li>
                        <a href="{% url 'popplace:popupstore' popup.id %}">
                            <img src="{{ popup.image.url }}" alt="{{ popup.name }}" style="max-width: 100px; max-height: 100px;">
                            {{ popup.name }} - {{ popup.address }}
                        </a>
                    </li>
                {% empty %}
                    <li>검색 결과가 없습니다.</li>
                {% endfor %}
            </ul>
        </div>
    {% else %}
        <div class="search-results">
            <p>팝업 스토어 목록</p>
            <ul>
                {% for popup in popups %}
                    <li>
                        <a href="{% url 'popplace:popupstore' popup.id %}">
                            <img src="{{ popup.image.url }}" alt="{{ popup.name }}" style="max-width: 100px; max-height: 100px;">
                            {{ popup.name }} - {{ popup.address }}
                        </a>
                    </li>
                {% empty %}
                    <li>팝업 스토어가 없습니다.</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endblock %}

{% block nav %}
    {% include './nav/nav_search.html' %}
{% endblock %}
